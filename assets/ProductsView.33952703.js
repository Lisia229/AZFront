import{r as M,s as x,t as w,T as I,a4 as N,g as _,S as b,o as l,c as i,b as e,d,v as u,F as y,y as f,w as F,a5 as T,n as V,e as P,z as H,G as S,B as z,C as n,f as R}from"./index.8c333d84.js";import{U as L}from"./UploadImage.69b34b1d.js";import{I as J}from"./TheInput.5c21fbc7.js";import"./cancel.3cac1ec6.js";const X={id:"admin-products"},Y=e("div",{class:"flex justify-center items-center py-8 px-8 text-3xl"},[e("svg",{class:"w-12 h-12 pr-2",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"})]),e("div",null,"\u5546\u54C1\u7BA1\u7406")],-1),q={class:"flex"},K={class:"px-4 py-4"},O={class:"px-4 py-4"},Q=e("label",{for:"table-search",class:"sr-only"},"Search",-1),W={class:"relative mt-1"},Z=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),ee={class:"row-auto items-center justify-between align-middle flex max-w-screen-xl px-4 py-4 mx-auto lg:gap-8 xl:gap-0 lg:py-4 lg:cols-12"},te={class:"col"},re=["onClick"],oe={id:"addproducts",class:"bg-white z-50 hidden rounded-xl border-2 border-black fixed"},se={id:"productsform",class:"relative rounded-xl"},ae={class:"relative bg-white rounded-xl shadow"},le=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ie=[le],de={class:"px-6 py-4 lg:px-8"},ne=e("h2",{class:"mb-4 text-xl font-medium text-gray-900 dark:text-white"},"\u65B0\u589E\u5546\u54C1",-1),ce=["onSubmit"],ge={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},pe={class:"sm:col-span-2"},ue=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"\u5546\u54C1\u540D\u7A31",-1),me={class:"w-full"},he=e("label",{for:"colors",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"\u5546\u54C1\u984F\u8272",-1),xe={class:"w-full"},be=e("label",{for:"sell",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"sell(TRUE / FALSE)",-1),ye={class:"w-full"},fe=e("label",{for:"price",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Price",-1),ve=e("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Category",-1),ke={class:"sm:col-span-2"},we=e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Description",-1),_e={class:"w-full"},Ve=e("label",{for:"img",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"upload image",-1),Ce={class:"flex items-center justify-center w-full"},Be={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-white dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},Me={class:"flex flex-col items-center justify-center pt-5 pb-6"},Pe=e("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"font-semibold"},"Click to upload"),S(" or drag and drop ")],-1),ze=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"SVG, PNG, JPG or GIF (MAX. 800x400px)",-1),Le={class:"col-span-2"},Se=e("label",{for:"img",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"upload images",-1),Ue={class:"flex items-center justify-center w-full"},je={class:"grid grid-cols-3 items-center justify-center pt-5 pb-6"},$e={class:"flex items-center justify-center"},Ae={class:"flex justify-center align-middle"},De={class:"col"},Ee=e("button",{type:"submit","data-modal-hide":"addproducts",class:"inline-flex border shadow hover:text-blueB hover:border-[1px] hover:border-blueB hover:bg-white bg-blueB text-white items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," Submit ",-1),Ge={class:"rounded-lg"},Ie={class:"w-full text-left text-gray-500"},Ne=e("thead",{class:"text-base text-white uppercase bg-black"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"\u5546\u54C1\u7167\u7247"),e("th",{scope:"col",class:"px-6 py-3"},"\u5546\u54C1\u540D\u7A31"),e("th",{scope:"col",class:"px-6 py-3"},"\u5546\u54C1\u50F9\u683C"),e("th",{scope:"col",class:"px-6 py-3"},"\u5546\u54C1\u5206\u985E"),e("th",{scope:"col",class:"px-6 py-3"},"\u5546\u54C1\u4E0A\u67B6"),e("th",{scope:"col",class:"px-6 py-3"},"\u7DE8\u8F2F")])],-1),Fe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap"},Te=["src"],He={class:"px-6 py-4"},Re={class:"px-6 py-4"},Je={class:"px-6 py-4"},Xe={class:"px-6 py-4"},Ye={class:"px-6 py-4"},qe=["onClick"],Ke=R('<svg class="h-3.5 w-3.5 ml-2" fill="#fff" width="25px" height="25px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"></rect><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"></path><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6zm-8.9 8.91L12 7.32l2.7 2.7-5.6 5.6-3 .28z"></path></g></g></g></svg>',1),Oe={class:"grid items-center justify-center px-4 py-4 mx-auto","aria-label":"Pagenavigationexample"},Qe={class:"mx-auto inline-flex items-center -space-x-px"},We=e("li",null,[e("a",{href:"#","aria-current":"page",class:"block px-3 py-2 ml-0 leading-tight text-gray-500 rounded-l-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("span",{class:"sr-only"},"Previous"),e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])])],-1),Ze=["onClick"],et=e("li",null,[e("a",{href:"#",class:"block px-3 py-2 leading-tight text-gray-500 rounded-r-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("span",{class:"sr-only"},"Next"),e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])])],-1),lt={__name:"ProductsView",setup(tt){const m=M([]),U=["\u8863\u670D","\u8932\u5B50","\u5305\u5305","\u6587\u5275","\u6587\u5177","\u98FE\u54C1","\u5176\u4ED6"],j=["\u5168\u90E8","\u8863\u670D","\u8932\u5B50","\u5305\u5305","\u6587\u5275","\u6587\u5177","\u98FE\u54C1","\u5176\u4ED6"],h=x(""),v=4,C=x(1),c=x(1),g=x("\u5168\u90E8"),$=w(()=>{const s=h.value!=="";s&&g.value;const o=m.filter(r=>s?r.name.includes(h.value):g.value==="\u5168\u90E8"?r:r.category===g.value);return C.value=Math.ceil(o.length/v),o}),A=w(()=>{const s=(c.value-1)*v,o=c.value*v;return $.value.slice(s,o)});let p=null;I(()=>{p=new N(document.getElementById("addproducts"))}),w(()=>stories.images?stories.images.map(s=>({image:s})):[]);const t=M({_id:"",name:"",price:"",colors:"",description:"",image:"",images:[],sell:!0,category:"",valid:!1}),D=()=>{p.show()},E=s=>{t._id=s._id,t.name=s.name,t.colors=s.colors,t.price=s.price,t.description=s.description,t.image=s.image,t.sell=s.sell,t.category=s.category,t.images=s.images.map(o=>({image:o})),p.show()},B=()=>{t._id="",t.name="",t.colors="",t.price="",t.description="",t.image="",t.images=[],t.sell="",t.category="",t.valid=!1,t.idx=-1,p.hide()},G=async()=>{var o,r;const s=new FormData;s.append("name",t.name),s.append("dateValue",t.dateValue),s.append("price",t.price),s.append("colors",t.colors),s.append("description",t.description),s.append("image",t.image),s.append("sell",t.sell),s.append("category",t.category),t.images.length>=1&&t.images.forEach(a=>{s.append("images",a.image)});try{if(t._id.length===0){const{data:a}=await _.post("/products",s);m.push(a.result),b.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"})}else{const{data:a}=await _.patch("/products/"+t._id,s);m[t.idx]=a.result,b.fire({icon:"success",title:"\u6210\u529F",text:"\u7DE8\u8F2F\u6210\u529F"})}}catch(a){b.fire({icon:"error",title:"\u5931\u6557",text:((r=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:r.message)||"\u767C\u751F\u932F\u8AA4"})}t._id="",t.name="",t.price="",t.description="",t.colors="",t.image="",t.images=[],t.sell="",t.category="",t.valid=!1,t.idx=-1,p.hide()};return(async()=>{var s,o;try{const{data:r}=await _.get("/products/all");m.push(...r.result)}catch(r){b.fire({icon:"error",title:"\u5931\u6557",text:((o=(s=r==null?void 0:r.response)==null?void 0:s.data)==null?void 0:o.message)||"\u767C\u751F\u932F\u8AA4"})}})(),(s,o)=>(l(),i("div",X,[Y,e("div",q,[e("div",K,[e("button",{type:"button",class:"text-white bg-blueB hover:bg-white hover:text-blueB hover:border-[1px] hover:border-blueB focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none",onClick:o[0]||(o[0]=r=>D())}," \u65B0\u589E\u5546\u54C1 ")]),e("div",O,[Q,e("div",W,[Z,d(e("input",{type:"text",id:"table-search","onUpdate:modelValue":o[1]||(o[1]=r=>h.value=r),onChange:o[2]||(o[2]=r=>c.value=1),class:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-100 focus:ring-pink-300 focus:border-pink-500",placeholder:"Search"},null,544),[[u,h.value]])])])]),e("div",ee,[(l(),i(y,null,f(j,(r,a)=>e("div",te,[e("button",{type:"button",class:z([{"text-white bg-black":g.value===r},"hover:text-white border border-gray-800 hover:bg-gray-900 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-gray-600 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-800"]),onClick:k=>g.value=r},n(r),11,re)])),64))]),e("div",oe,[e("div",se,[e("div",ae,[e("button",{type:"button",onClick:o[3]||(o[3]=r=>B()),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"addproducts"},ie),e("div",de,[ne,e("form",{onSubmit:F(G,["prevent"]),class:"space-y-6"},[e("div",ge,[e("div",pe,[ue,d(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>t.name=r),type:"text",name:"name",id:"name",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"name"},null,512),[[u,t.name]])]),e("div",me,[he,d(e("input",{"onUpdate:modelValue":o[5]||(o[5]=r=>t.colors=r),type:"text",name:"colors",id:"colors",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:""},null,512),[[u,t.colors]])]),e("div",xe,[be,d(e("input",{"onUpdate:modelValue":o[6]||(o[6]=r=>t.sell=r),type:"checkbox",label:"\u4E0A\u67B6",name:"sell",id:"sell",class:"w-4 h-4 text-pink-600 bg-gray-100 border-gray-300 rounded focus:ring-pink-500"},null,512),[[T,t.sell]])]),e("div",ye,[fe,d(e("input",{"onUpdate:modelValue":o[7]||(o[7]=r=>t.price=r),type:"number",name:"price",id:"price",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"$2999"},null,512),[[u,t.price]])]),e("div",null,[ve,V(J,{modelValue:t.category,"onUpdate:modelValue":o[8]||(o[8]=r=>t.category=r),select:U,title:"choose category",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"categories"},null,8,["modelValue"])]),e("div",ke,[we,d(e("textarea",{"onUpdate:modelValue":o[9]||(o[9]=r=>t.description=r),id:"description",rows:"8",class:"block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-vtd-secondary-300focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Your description here"},null,512),[[u,t.description]])]),e("div",_e,[Ve,e("div",Ce,[e("label",Be,[e("div",Me,[V(L,{modelValue:t.image,"onUpdate:modelValue":o[10]||(o[10]=r=>t.image=r),id:"dropzone-file"},null,8,["modelValue"]),Pe,ze])])])]),e("div",Le,[Se,e("div",Ue,[e("div",je,[(l(!0),i(y,null,f(t.images,(r,a)=>(l(),i("div",{key:a},[V(L,{modelValue:t.images[a].image,"onUpdate:modelValue":k=>t.images[a].image=k,id:`img-${a}`},null,8,["modelValue","onUpdate:modelValue","id"])]))),128))])]),e("div",$e,[t.images.length>=1?(l(),i("button",{key:0,type:"button",onClick:o[11]||(o[11]=r=>t.images.pop()),class:"inline-flex border shadow border-pinkP text-pinkP items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center rounded-lg focus:ring-4 focus:ring-pink-200 hover:bg-pinkP hover:text-white"}," DELETE ")):P("",!0),!t.images.length||t.images.length<9?(l(),i("button",{key:1,type:"button",onClick:o[12]||(o[12]=r=>t.images.push({image:""})),class:"inline-flex border shadow border-blueB text-blueB items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center hover:bg-blueB hover:text-white rounded-lg focus:ring-4 focus:ring-blue-200"}," ADD ")):P("",!0)])])]),e("div",Ae,[e("div",De,[e("button",{type:"button","data-modal-hide":"addproducts",onClick:o[13]||(o[13]=r=>B()),class:"inline-flex border shadow hover:bg-white hover:text-pinkP hover:border-[1px] hover:border-pinkP bg-pinkP text-white items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," cancel "),Ee])])],40,ce)])])])]),e("div",Ge,[e("table",Ie,[Ne,e("tbody",null,[(l(!0),i(y,null,f(H(A),(r,a)=>(l(),i("tr",{key:r._id,class:"bg-gray-100 border-b hover:bg-gray-200"},[e("th",Fe,[e("img",{class:"w-44",src:r.image},null,8,Te)]),e("td",He,n(r.name),1),e("td",Re,n(r.price),1),e("td",Je,n(r.category),1),e("td",Xe,n(r.sell),1),e("td",Ye,[e("button",{type:"button",class:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-black rounded-lg hover:bg-blueB focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:k=>E(r)},[S(" \u7DE8\u8F2F "),Ke],8,qe)])]))),128))])]),e("nav",Oe,[e("ul",Qe,[We,(l(!0),i(y,null,f(C.value,r=>(l(),i("li",{onClick:a=>c.value=r},[e("p",{class:z([{"text-white bg-pinkP":c.value===r},"z-10 px-3 py-2 leading-tight hover:bg-pinkP hover:text-white dark:border-gray-700 dark:bg-gray-700 dark:text-white"])},n(r),3)],8,Ze))),256)),et])])])]))}};export{lt as default};
