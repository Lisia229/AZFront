import{E as x,r as u,s as r,t as f,I,g as S,S as U}from"./index.f65c991b.js";/* empty css                                                                    */const M={__name:"MemberView",setup(w){const d=x(),o=u([]),c=5,p=r(1),n=r(1),i=r(""),l=r("\u5168\u90E8"),g=f(()=>{const t=i.value!=="",a=o.filter(e=>t?e.account.toUpperCase().includes(i.value.toUpperCase()):l.value==="\u5168\u90E8"?e:e.category===l.value);return p.value=Math.ceil(a.length/c),a});f(()=>{const t=(n.value-1)*c,a=n.value*c;return g.value.slice(t,a)});const{account:m,email:v,role:h,image:b}=I(d);return u({_id:"",account:m.value||"",image:b.value||"",email:v.value||"",role:h.value||"",editing:!1}),(async()=>{var t,a;try{const{data:e}=await S.get("/users/all");o.push(...e.result),o.forEach(s=>{const _=encodeURIComponent(s.account||"default");s.image=s.image&&s.image.trim()!==""?s.image:`https://api.dicebear.com/9.x/beam/svg?seed=${_}&size=256&colors=ffabab,ffdaab,ddffab,abe4ff,d9abff`})}catch(e){U.fire({icon:"error",title:"\u5931\u6557",text:((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"\u767C\u751F\u932F\u8AA4"})}})(),()=>{}}};export{M as default};
