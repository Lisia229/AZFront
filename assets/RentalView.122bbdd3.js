import{r as h,V as C,a6 as U,t as q,g,S as u,o as n,c as l,b as t,w as P,d as a,v as d,n as x,F as f,y,e as k,G as _,C as v}from"./index.7b48a265.js";import{U as w}from"./UploadImage.c2752a2b.js";const j={id:"admin-rental"},M=t("div",{class:"flex justify-center items-center py-8 px-8 text-3xl"},[t("svg",{class:"w-12 h-12 pr-2",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 01-1.125-1.125v-3.75zM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 01-1.125-1.125v-8.25zM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 01-1.125-1.125v-2.25z"})]),t("div",null,"\u5834\u5730\u7BA1\u7406")],-1),S={id:"addrentals",class:"bg-white z-50 hidden rounded-xl border-2 border-black fixed"},$={id:"rentalsform",class:"relative rounded-xl"},D={class:"relative bg-white rounded-xl shadow"},L=t("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),E=t("span",{class:"sr-only"},"Close modal",-1),N=[L,E],F={class:"px-6 py-4 lg:px-8"},G=t("h2",{class:"mb-4 text-xl font-medium text-gray-900 dark:text-white"},"\u65B0\u589E\u5834\u5730\u8CC7\u8A0A",-1),T=["onSubmit"],A={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},I={class:"w-full"},Y=t("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Rental's Name",-1),R={class:"w-full"},H=t("label",{for:"price",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Price",-1),J={class:"w-full"},X=t("label",{for:"size",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"size",-1),K={class:"w-full"},O=t("label",{for:"number",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"number",-1),Q={class:"sm:col-span-2"},W=t("label",{for:"suggest",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"suggest",-1),Z={class:"sm:col-span-2"},ee=t("label",{for:"introduction",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"equipment",-1),te={class:"sm:col-span-2"},re=t("label",{for:"attention",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"attention",-1),se={class:"sm:col-span-2"},oe=t("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Description",-1),ie={class:"w-full"},ae=t("label",{for:"img",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"upload image",-1),de={class:"flex items-center justify-center w-full"},ne={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-white dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},le={class:"flex flex-col items-center justify-center pt-5 pb-6"},me=t("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},[t("span",{class:"font-semibold"},"Click to upload"),_(" or drag and drop ")],-1),ce=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"SVG, PNG, JPG or GIF (MAX. 800x400px)",-1),ue={class:"col-span-2"},ge=t("label",{for:"img",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"upload images",-1),pe={class:"flex items-center justify-center w-full"},be={class:"grid grid-cols-3 items-center justify-center pt-5 pb-6"},he={class:"flex items-center justify-center"},xe={class:"flex justify-center align-middle"},fe={class:"col"},ye=t("button",{type:"submit","data-modal-hide":"addrentals",class:"inline-flex border shadow hover:text-blueB hover:border-[1px] hover:border-blueB hover:bg-white bg-blueB text-white items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," Submit ",-1),ke={id:"rental-list",class:"grid mb-8 rounded-lg md:mb-12 md:grid-cols-3"},ve={class:"max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},we={href:"#"},_e=["src"],ze={class:"p-5"},Ve={href:"#"},Be={class:"mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white"},Ce={class:"mb-3 font-normal text-gray-700 dark:text-gray-400"},Ue=["onClick"],qe=t("svg",{"aria-hidden":"true",class:"w-4 h-4 ml-2 -mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Se={__name:"RentalView",setup(Pe){const c=h([]);let m=null;const z=()=>{m.show()};C(()=>{m=new U(document.getElementById("addrentals"))}),q(()=>editProduct.value.images?editProduct.value.images.map(o=>({image:o})):[]);const e=h({_id:"",name:"",price:"",description:"",image:"undefined",images:[],suggest:"",size:"",equipment:"",number:"",attention:"",valid:!1}),V=o=>{e._id=o._id,e.name=o.name,e.price=o.price,e.description=o.description,e.image=o.image,e.images=o.images.map(s=>({image:s})),e.suggest=o.suggest,e.size=o.size,e.equipment=o.equipment,e.number=o.number,e.attention=o.attention,e.valid=o.valid,m.show()},p=()=>{e._id="",e.name="",e.price="",e.description="",e.image="",e.images=[],e.suggest="",e.size="",e.equipment="",e.number="",e.attention="",e.valid=!1,e.idx=-1,m.hide()},B=async()=>{var s,r;const o=new FormData;o.append("name",e.name),o.append("equipment",e.equipment),o.append("number",e.number),o.append("price",e.price),o.append("description",e.description),o.append("image",e.image),o.append("attention",e.attention),o.append("suggest",e.suggest),o.append("size",e.size),e.images.length>=1&&e.images.forEach(i=>{o.append("images",i.image)});try{if(e._id.length===0){const{data:i}=await g.post("/rentals",o);c.push(i.result),u.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"})}else{const{data:i}=await g.patch("/rentals/"+e._id,o);c[e.idx]=i.result,u.fire({icon:"success",title:"\u6210\u529F",text:"\u7DE8\u8F2F\u6210\u529F"})}}catch(i){u.fire({icon:"error",title:"\u5931\u6557",text:((r=(s=i==null?void 0:i.response)==null?void 0:s.data)==null?void 0:r.message)||"\u767C\u751F\u932F\u8AA4"})}e._id="",e.name="",e.price="",e.description="",e.image="",e.images=[],e.suggest="",e.size="",e.equipment="",e.number="",e.attention="",e.valid=!1,e.idx=-1,m.hide()};return(async()=>{var o,s;try{const{data:r}=await g.get("/rentals/all");c.push(...r.result)}catch(r){u.fire({icon:"error",title:"\u5931\u6557",text:((s=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:s.message)||"\u767C\u751F\u932F\u8AA4"})}})(),(o,s)=>(n(),l("div",j,[M,t("button",{type:"button",class:"text-white bg-blueB hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none",onClick:s[0]||(s[0]=r=>z())}," \u65B0\u589E\u5834\u5730\u8CC7\u8A0A "),t("div",S,[t("div",$,[t("div",D,[t("button",{type:"button",onClick:s[1]||(s[1]=r=>p()),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"addrentals"},N),t("div",F,[G,t("form",{onSubmit:P(B,["prevent"]),class:"space-y-6"},[t("div",A,[t("div",I,[Y,a(t("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>e.name=r),type:"text",name:"name",id:"name",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Type Store's name"},null,512),[[d,e.name]])]),t("div",R,[H,a(t("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>e.price=r),type:"number",name:"price",id:"price",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"$2999"},null,512),[[d,e.price]])]),t("div",J,[X,a(t("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>e.size=r),type:"text",name:"size",id:"size",placeholder:"size",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},null,512),[[d,e.size]])]),t("div",K,[O,a(t("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>e.number=r),type:"text",name:"number",id:"number",placeholder:"number",class:"bg-white border border-vtd-secondary-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},null,512),[[d,e.number]])]),t("div",Q,[W,a(t("textarea",{"onUpdate:modelValue":s[6]||(s[6]=r=>e.suggest=r),id:"suggest",rows:"3",placeholder:"suggest",class:"block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-vtd-secondary-300focus:ring-primary-500 focus:border-primary-500"},null,512),[[d,e.suggest]])]),t("div",Z,[ee,a(t("textarea",{"onUpdate:modelValue":s[7]||(s[7]=r=>e.equipment=r),id:"equipment",rows:"3",class:"block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-vtd-secondary-300focus:ring-primary-500 focus:border-primary-500",placeholder:"Your introduction here"},null,512),[[d,e.equipment]])]),t("div",te,[re,a(t("textarea",{"onUpdate:modelValue":s[8]||(s[8]=r=>e.attention=r),id:"attention",rows:"5",class:"block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-vtd-secondary-300focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Your special here"},null,512),[[d,e.attention]])]),t("div",se,[oe,a(t("textarea",{"onUpdate:modelValue":s[9]||(s[9]=r=>e.description=r),id:"description",rows:"8",class:"block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-vtd-secondary-300focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Your description here"},null,512),[[d,e.description]])]),t("div",ie,[ae,t("div",de,[t("label",ne,[t("div",le,[x(w,{modelValue:e.image,"onUpdate:modelValue":s[10]||(s[10]=r=>e.image=r),id:"dropzone-file"},null,8,["modelValue"]),me,ce])])])]),t("div",ue,[ge,t("div",pe,[t("div",be,[(n(!0),l(f,null,y(e.images,(r,i)=>(n(),l("div",{key:i},[x(w,{modelValue:e.images[i].image,"onUpdate:modelValue":b=>e.images[i].image=b,id:`img-${i}`},null,8,["modelValue","onUpdate:modelValue","id"])]))),128))])]),t("div",he,[e.images.length>=1?(n(),l("button",{key:0,type:"button",onClick:s[11]||(s[11]=r=>e.images.pop()),class:"inline-flex border shadow border-pinkP text-pinkP items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center rounded-lg focus:ring-4 focus:ring-pink-200 hover:bg-pinkP hover:text-white"}," DELETE ")):k("",!0),!e.images.length||e.images.length<9?(n(),l("button",{key:1,type:"button",onClick:s[12]||(s[12]=r=>e.images.push({image:""})),class:"inline-flex border shadow border-blueB text-blueB items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center hover:bg-blueB hover:text-white rounded-lg focus:ring-4 focus:ring-blue-200"}," ADD ")):k("",!0)])])]),t("div",xe,[t("div",fe,[t("button",{type:"button","data-modal-hide":"addrentals",onClick:s[13]||(s[13]=r=>p()),class:"inline-flex border shadow hover:bg-white hover:text-pinkP hover:border-[1px] hover:border-pinkP bg-pinkP text-white items-center mx-3 px-7 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," cancel "),ye])])],40,T)])])])]),t("div",ke,[(n(!0),l(f,null,y(c,(r,i)=>(n(),l("div",{id:"card",key:r._id,class:"flex flex-col items-center justify-center p-8 text-center bg-whiteF rounded-t-lg md:rounded-t-none md:rounded-tl-lg dark:bg-gray-800 dark:border-gray-700"},[t("div",ve,[t("a",we,[t("img",{class:"rounded-t-lg w-96 h-60",src:r.image},null,8,_e)]),t("div",ze,[t("a",Ve,[t("h5",Be,v(r.name),1)]),t("p",Ce,v(r.suggest),1),t("button",{type:"button",class:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blueB hover:bg-white hover:text-blueB hover:border-[1px] hover:border-blueB rounded-lg focus:ring-4 focus:outline-none focus:ring-blue-300",onClick:b=>V(r)},[_(" \u7DE8\u8F2F "),qe],8,Ue)])])]))),128))])]))}};export{Se as default};
