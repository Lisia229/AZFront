import{r as u,g as d,S as h,o as a,c,b as t,F as i,y as p,C as o}from"./index.f65c991b.js";const x={id:"Order",class:"pt-[70px] pb-16 w-full h-full"},_=t("div",{class:"flex justify-center items-center py-8 px-8 text-3xl"},[t("svg",{class:"w-12 h-12 pr-2",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})]),t("div",null,"\u5546\u54C1\u8A02\u55AE\u7BA1\u7406")],-1),y={class:"w-full rounded-xl table-fixed text-left py-8"},w=t("thead",{class:"text-xl text-center uppercas bg-black text-white"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"ID"),t("th",{scope:"col",class:"px-6 py-3"},"\u65E5\u671F"),t("th",{scope:"col",class:"px-6 py-3"},"\u4F7F\u7528\u8005"),t("th",{scope:"col",class:"px-6 py-3"},"\u91D1\u984D"),t("th",{scope:"col",class:"px-6 py-3"},"\u5546\u54C1")])],-1),f={class:"text-center"},k={__name:"OrderView",setup(m){const r=u([]);return(async()=>{try{const{data:s}=await d.get("/orders/all");console.log(s.result),r.push(...s.result.map(n=>(n.totalPrice=n.products.reduce((e,l)=>e+l.data.price*l.quantity,0),n)))}catch(s){console.log(s),h.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(s,n)=>(a(),c("div",x,[_,t("table",y,[w,t("tbody",f,[(a(!0),c(i,null,p(r,e=>(a(),c("tr",{class:"h-32",key:e._id},[t("td",null,o(e._id),1),t("td",null,o(new Date(e.date).toLocaleDateString()),1),t("td",null,o(e.u_id.account),1),t("td",null,"NT. "+o(e.totalPrice),1),t("td",null,[t("ul",null,[(a(!0),c(i,null,p(e.products,l=>(a(),c("li",{class:"text-left",key:l._id},o(l.quantity+"\u500B"+l.data.name),1))),128))])])]))),128))])])]))}};export{k as default};
