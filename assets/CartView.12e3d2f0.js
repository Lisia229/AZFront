import{u as B,E as S,r as V,t as b,g as z,S as N,k as M,o as n,c as r,b as t,n as p,m as u,C as l,e as T,F as j,y as q,z as d,B as H,f as _,G as x}from"./index.d47c76f5.js";const P={id:"CartView"},L={class:"px-4 py-4 lg:pb-6 lg:py-10 w-full z-10 bg-white fixed","aria-label":"Breadcrumb"},$={class:"inline-flex items-center space-x-1 md:space-x-3"},D={class:"inline-flex items-center"},E=t("svg",{"aria-hidden":"true",class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),A={class:"flex items-center"},F=t("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),O=_('<li aria-current="page"><div class="flex items-center"><svg aria-hidden="true" class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg><span class="ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400">\u8CFC\u7269\u8ECA</span></div></li>',1),R={class:"container px-4 py-4 mx-auto mt-10"},G={class:"flex flex-wrap shadow-md my-10"},I={class:"w-full md:w-3/4 bg-white px-10 py-10"},Q={class:"flex justify-between border-b pb-8"},U=t("h1",{class:"font-semibold text-2xl"},"Shopping Cart",-1),J={class:"font-semibold text-2xl"},K=_('<div class="flex mt-10 mb-5"><h3 class="font-semibold text-gray-600 text-xs uppercase w-2/5">Product Details</h3><h3 class="font-semibold text-center text-gray-600 text-xs uppercase w-1/5">Quantity</h3><h3 class="font-semibold text-gray-600 text-xs uppercase w-1/5 text-center">Price</h3><h3 class="font-semibold text-gray-600 text-xs uppercase w-1/5 text-center">Total</h3></div>',1),W={key:0,class:"flex items-center hover:bg-gray-100 -mx-8 px-6 py-5"},X={class:"flex w-2/5"},Y={class:"w-2/3 h-full"},Z=["src"],tt={class:"w-1/3 flex flex-col justify-between ml-4 flex-grow"},et={class:"font-bold text-sm"},st={class:"text-red-500 text-xs"},ot=["onClick"],at={class:"flex justify-center w-1/5"},lt=["onClick"],ct=t("svg",{class:"fill-current text-gray-600 w-3",viewBox:"0 0 448 512"},[t("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})],-1),it=[ct],nt={class:"mx-2 border text-center w-8"},rt=["onClick"],dt=t("svg",{class:"fill-current text-gray-600 w-3",viewBox:"0 0 448 512"},[t("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})],-1),ht=[dt],pt={class:"text-center w-1/5 font-semibold text-sm"},ut={class:"text-center w-1/5 font-semibold text-sm"},xt=t("svg",{class:"fill-current mr-2 text-indigo-600 w-4",viewBox:"0 0 448 512"},[t("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})],-1),_t={id:"summary",class:"w-full md:w-1/4 px-8 py-10"},mt=t("h1",{class:"font-semibold text-2xl border-b pb-8"},"Order Summary",-1),ft={class:"flex justify-between mt-10 mb-5"},vt={class:"font-semibold text-sm"},bt=_('<div><label class="font-medium inline-block mb-3 text-sm uppercase">Shipping</label><select class="block p-2 text-gray-600 w-full text-sm"><option>Standard shipping - $10.00</option></select></div><div class="py-10"><label for="promo" class="font-semibold inline-block mb-3 text-sm uppercase">Promo Code</label><input type="text" id="promo" placeholder="Enter your code" class="p-2 text-sm w-full"></div><button class="bg-red-500 hover:bg-red-600 px-5 py-2 text-sm text-white uppercase">Apply</button>',3),wt={class:"border-t mt-8"},gt={class:"flex font-semibold justify-between py-6 text-sm uppercase"},yt=t("span",null,"Total cost",-1),kt=["disabled"],St={__name:"CartView",setup(Ct){const w=B(),g=S(),{editCart:y,checkout:k}=g,s=V([]),h=async(e,o)=>{const c={quantity:o};s[e].dataModel==="exhibitions"?c.e_id=s[e].data._id:s[e].dataModel==="products"&&(c.p_id=s[e].data._id),await y(c),s[e].quantity+=o,s[e].quantity<=0&&s.splice(e,1)},C=async()=>{await k(),w.push("/admin/usersOrder")},m=b(()=>s.reduce((e,o)=>e+o.data.price*o.quantity,0)),f=b(()=>{const e=s.some(o=>!o.data.sell);return s.length>0&&e});return(async()=>{try{const{data:e}=await z.get("/users/cart");s.push(...e.result)}catch{N.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8CFC\u7269\u8ECA\u5931\u6557"})}})(),(e,o)=>{const c=M("router-link");return n(),r("div",P,[t("nav",L,[t("ol",$,[t("li",D,[p(c,{to:"/",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-pinkP"},{default:u(()=>[E,x(" Home ")]),_:1})]),t("li",null,[t("div",A,[F,p(c,{to:"/product",class:"ml-1 text-sm font-medium text-gray-700 hover:text-pinkP md:ml-2 dark:text-gray-400 dark:hover:text-white"},{default:u(()=>[x("\u5546\u54C1")]),_:1})])]),O])]),t("div",R,[t("div",G,[t("div",I,[t("div",Q,[U,t("h2",J,l(e.totalquantity)+" Items",1)]),K,s.length===0?(n(),r("div",W,"\u6C92\u6709\u5546\u54C1")):T("",!0),(n(!0),r(j,null,q(s,(a,i)=>(n(),r("div",{class:"flex items-center hover:bg-gray-100 -mx-8 px-6 py-5",key:i},[t("div",X,[t("div",Y,[t("div",null,[t("img",{class:"w-44 h-44 object-cover",src:a.data.image},null,8,Z)])]),t("div",tt,[t("span",et,l(a.data.name),1),t("span",st,l(a.data.colors),1),t("button",{type:"button",onClick:v=>h(i,a.quantity*-1),class:"font-semibold text-left hover:text-red-500 text-gray-500 text-xs"}," Remove ",8,ot)])]),t("div",at,[t("button",{type:"button",class:"fill-current",onClick:v=>h(i,-1)},it,8,lt),t("span",nt,l(a.quantity),1),t("button",{type:"button",class:"fill-current text-gray-600 w-3",onClick:v=>h(i,1)},ht,8,rt)]),t("span",pt,"NT. "+l(a.data.price),1),t("span",ut,"NT. "+l(a.data.price*a.quantity),1)]))),128)),p(c,{to:"product",class:"flex font-semibold text-indigo-600 text-sm mt-10"},{default:u(()=>[xt,x(" Continue Shopping ")]),_:1})]),t("div",_t,[mt,t("div",ft,[t("span",vt,"NT. "+l(d(m)),1)]),bt,t("div",wt,[t("div",gt,[yt,t("span",null,"NT. "+l(d(m)),1)]),t("button",{type:"button",class:H([{"bg-red-600":d(f)},"bg-blueB font-semibold hover:bg-indigo-600 py-3 text-sm text-white uppercase w-full"]),disabled:d(f),onClick:C}," Checkout ",10,kt)])])])])])}}};export{St as default};
