import{L as H,M as P,N as F,O as S,P as q}from"./index.714b9eb4.js";function E(a,A,d,u){return a.params.createElements&&Object.keys(u).forEach(s=>{if(!d[s]&&d.auto===!0){let f=H(a.el,`.${u[s]}`)[0];f||(f=P("div",u[s]),f.className=u[s],a.el.append(f)),d[s]=f,A[s]=f}}),d}function L(a=""){return`.${a.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function T({swiper:a,extendParams:A,on:d,emit:u}){const s="swiper-pagination";A({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),a.pagination={el:null,bullets:[]};let f,h=0;const C=t=>(Array.isArray(t)||(t=[t].filter(l=>!!l)),t);function M(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function x(t,l){const{bulletActiveClass:e}=a.params.pagination;!t||(t=t[`${l==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${e}-${l}`),t=t[`${l==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${e}-${l}-${l}`)))}function k(t){if(!t.target.matches(L(a.params.pagination.bulletClass)))return;t.preventDefault();const e=S(t.target)*a.params.slidesPerGroup;a.params.loop?a.slideToLoop(e):a.slideTo(e)}function y(){const t=a.rtl,l=a.params.pagination;if(M())return;let e=a.pagination.el;e=C(e);let n;const g=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,p=a.params.loop?Math.ceil(g/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex:typeof a.snapIndex<"u"?n=a.snapIndex:n=a.activeIndex||0,l.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const i=a.pagination.bullets;let m,r,b;if(l.dynamicBullets&&(f=F(i[0],a.isHorizontal()?"width":"height",!0),e.forEach(o=>{o.style[a.isHorizontal()?"width":"height"]=`${f*(l.dynamicMainBullets+4)}px`}),l.dynamicMainBullets>1&&a.previousIndex!==void 0&&(h+=n-(a.previousIndex||0),h>l.dynamicMainBullets-1?h=l.dynamicMainBullets-1:h<0&&(h=0)),m=Math.max(n-h,0),r=m+(Math.min(i.length,l.dynamicMainBullets)-1),b=(r+m)/2),i.forEach(o=>{o.classList.remove(...["","-next","-next-next","-prev","-prev-prev","-main"].map(c=>`${l.bulletActiveClass}${c}`))}),e.length>1)i.forEach(o=>{const c=S(o);c===n&&o.classList.add(l.bulletActiveClass),l.dynamicBullets&&(c>=m&&c<=r&&o.classList.add(`${l.bulletActiveClass}-main`),c===m&&x(o,"prev"),c===r&&x(o,"next"))});else{const o=i[n];if(o&&o.classList.add(l.bulletActiveClass),l.dynamicBullets){const c=i[m],v=i[r];for(let $=m;$<=r;$+=1)i[$].classList.add(`${l.bulletActiveClass}-main`);x(c,"prev"),x(v,"next")}}if(l.dynamicBullets){const o=Math.min(i.length,l.dynamicMainBullets+4),c=(f*o-f)/2-b*f,v=t?"right":"left";i.forEach($=>{$.style[a.isHorizontal()?v:"top"]=`${c}px`})}}e.forEach((i,m)=>{if(l.type==="fraction"&&(i.querySelectorAll(L(l.currentClass)).forEach(r=>{r.textContent=l.formatFractionCurrent(n+1)}),i.querySelectorAll(L(l.totalClass)).forEach(r=>{r.textContent=l.formatFractionTotal(p)})),l.type==="progressbar"){let r;l.progressbarOpposite?r=a.isHorizontal()?"vertical":"horizontal":r=a.isHorizontal()?"horizontal":"vertical";const b=(n+1)/p;let o=1,c=1;r==="horizontal"?o=b:c=b,i.querySelectorAll(L(l.progressbarFillClass)).forEach(v=>{v.style.transform=`translate3d(0,0,0) scaleX(${o}) scaleY(${c})`,v.style.transitionDuration=`${a.params.speed}ms`})}l.type==="custom"&&l.renderCustom?(i.innerHTML=l.renderCustom(a,n+1,p),m===0&&u("paginationRender",i)):(m===0&&u("paginationRender",i),u("paginationUpdate",i)),a.params.watchOverflow&&a.enabled&&i.classList[a.isLocked?"add":"remove"](l.lockClass)})}function B(){const t=a.params.pagination;if(M())return;const l=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length;let e=a.pagination.el;e=C(e);let n="";if(t.type==="bullets"){let g=a.params.loop?Math.ceil(l/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&g>l&&(g=l);for(let p=0;p<g;p+=1)t.renderBullet?n+=t.renderBullet.call(a,p,t.bulletClass):n+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?n=t.renderFraction.call(a,t.currentClass,t.totalClass):n=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?n=t.renderProgressbar.call(a,t.progressbarFillClass):n=`<span class="${t.progressbarFillClass}"></span>`),e.forEach(g=>{t.type!=="custom"&&(g.innerHTML=n||""),t.type==="bullets"&&(a.pagination.bullets=[...g.querySelectorAll(L(t.bulletClass))])}),t.type!=="custom"&&u("paginationRender",e[0])}function z(){a.params.pagination=E(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const t=a.params.pagination;if(!t.el)return;let l;typeof t.el=="string"&&a.isElement&&(l=a.el.shadowRoot.querySelector(t.el)),!l&&typeof t.el=="string"&&(l=[...document.querySelectorAll(t.el)]),l||(l=t.el),!(!l||l.length===0)&&(a.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(l)&&l.length>1&&(l=[...a.el.querySelectorAll(t.el)],l.length>1&&(l=l.filter(e=>q(e,".swiper")[0]===a.el)[0])),Array.isArray(l)&&l.length===1&&(l=l[0]),Object.assign(a.pagination,{el:l}),l=C(l),l.forEach(e=>{t.type==="bullets"&&t.clickable&&e.classList.add(t.clickableClass),e.classList.add(t.modifierClass+t.type),e.classList.add(a.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(e.classList.add(`${t.modifierClass}${t.type}-dynamic`),h=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&e.classList.add(t.progressbarOppositeClass),t.clickable&&e.addEventListener("click",k),a.enabled||e.classList.add(t.lockClass)}))}function I(){const t=a.params.pagination;if(M())return;let l=a.pagination.el;l&&(l=C(l),l.forEach(e=>{e.classList.remove(t.hiddenClass),e.classList.remove(t.modifierClass+t.type),e.classList.remove(a.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&e.removeEventListener("click",k)})),a.pagination.bullets&&a.pagination.bullets.forEach(e=>e.classList.remove(t.bulletActiveClass))}d("init",()=>{a.params.pagination.enabled===!1?O():(z(),B(),y())}),d("activeIndexChange",()=>{typeof a.snapIndex>"u"&&y()}),d("snapIndexChange",()=>{y()}),d("snapGridLengthChange",()=>{B(),y()}),d("destroy",()=>{I()}),d("enable disable",()=>{let{el:t}=a.pagination;t&&(t=C(t),t.forEach(l=>l.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),d("lock unlock",()=>{y()}),d("click",(t,l)=>{const e=l.target;let{el:n}=a.pagination;if(Array.isArray(n)||(n=[n].filter(g=>!!g)),a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!e.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&e===a.navigation.nextEl||a.navigation.prevEl&&e===a.navigation.prevEl))return;const g=n[0].classList.contains(a.params.pagination.hiddenClass);u(g===!0?"paginationShow":"paginationHide"),n.forEach(p=>p.classList.toggle(a.params.pagination.hiddenClass))}});const D=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:t}=a.pagination;t&&(t=C(t),t.forEach(l=>l.classList.remove(a.params.pagination.paginationDisabledClass))),z(),B(),y()},O=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:t}=a.pagination;t&&(t=C(t),t.forEach(l=>l.classList.add(a.params.pagination.paginationDisabledClass))),I()};Object.assign(a.pagination,{enable:D,disable:O,render:B,update:y,init:z,destroy:I})}export{T as P,E as c};
